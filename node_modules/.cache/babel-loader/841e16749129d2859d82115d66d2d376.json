{"ast":null,"code":"var _jsxFileName = \"/home/generous/projects/t-store/src/components/context/products/ProductsState.js\",\n    _s = $RefreshSig$();\n\nimport { useReducer } from \"react\";\nimport axios from \"axios\";\nimport ProductsReducer from \"./ProductsReducer\";\nimport ProductsContext from \"./ProductsContext\";\nimport { ADD_PRODUCT, UPDATE_PRODUCT, DELETE_PRODUCT, GET_PRODUCTS, GET_PRODUCT, GET_CATEGORY, ADD_CATEGORY, UPDATE_CATEGORY, DELETE_CATEGORY, GET_CATEGORIES, GET_ELECTRONICS, GET_SHOES, GET_CLOTHINGS, SEARCH_PRODUCTS, GET_CATEGORY_PRODUCTS, GET_RELATED_PRODUCTS, ERRORS, CLEAR_MESSAGES, CLEAR_ERRORS, SET_lOADING, SET_FORM_lOADING } from \"../types\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst ProductsState = props => {\n  _s();\n\n  const initialState = {\n    products: null,\n    product: null,\n    categoryProducts: null,\n    categories: null,\n    category: null,\n    shoes: null,\n    clothings: null,\n    electronics: null,\n    relatedProducts: null,\n    searchedItems: null,\n    loading: true,\n    formloading: false,\n    errors: null,\n    success: null\n  }; //initialise the state\n\n  const [state, dispatch] = useReducer(ProductsReducer, initialState); //configuration\n\n  const config = {\n    headers: {\n      \"Content-Type\": \"application/json\",\n      Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n      \"Access-Control-Allow-Origin\": \"*\"\n    }\n  }; //set the actions\n  //**add product to db */\n\n  const addProduct = async data => {\n    try {\n      await axios.post(`${process.env.REACT_APP_API_URL}/product`, data, config).then(res => {\n        dispatch({\n          type: ADD_PRODUCT,\n          payload: res.data\n        });\n      }).catch(err => {\n        var obj = err.response.data.errors ? err.response.data.errors : \"\";\n        dispatch({\n          type: ERRORS,\n\n          /* payload: obj[Object.keys(obj)[0]], */\n          payload: obj\n        });\n      });\n    } catch (error) {}\n  }; // add category\n\n\n  const addCategory = async data => {\n    try {\n      await axios.post(`${process.env.REACT_APP_API_URL}/category`, data, config).then(res => {\n        dispatch({\n          type: ADD_CATEGORY,\n          payload: res.data\n        });\n      }).catch(err => {\n        var obj = err.response.data.errors ? err.response.data.errors : \"\";\n        dispatch({\n          type: ERRORS,\n\n          /* payload: obj[Object.keys(obj)[0]], */\n          payload: obj\n        });\n      });\n    } catch (error) {}\n  }; //**update product to db */\n\n\n  const updateProduct = async (id, data) => {\n    try {\n      await axios.post(`${process.env.REACT_APP_API_URL}/product/${id}`, data, config).then(res => {\n        dispatch({\n          type: UPDATE_PRODUCT,\n          payload: res.data\n        });\n      }).catch(err => {\n        var obj = err.response.data.errors ? err.response.data.errors : \"\";\n        dispatch({\n          type: ERRORS,\n          payload: obj\n        });\n      });\n    } catch (error) {}\n  }; //**update category to db */\n\n\n  const updateCategory = async (id, data) => {\n    try {\n      await axios.post(`${process.env.REACT_APP_API_URL}/category/${id}`, data, config).then(res => {\n        dispatch({\n          type: UPDATE_CATEGORY,\n          payload: res.data\n        });\n      }).catch(err => {\n        var obj = err.response.data.errors ? err.response.data.errors : \"\";\n        dispatch({\n          type: ERRORS,\n          payload: obj[Object.keys(obj)[0]]\n        });\n      });\n    } catch (error) {}\n  }; //**delete product from db */\n\n\n  const deleteProduct = async id => {\n    try {\n      await axios.delete(`${process.env.REACT_APP_API_URL}/product/${id}`, config).then(res => {\n        dispatch({\n          type: DELETE_PRODUCT\n        });\n      }).catch(err => {\n        var obj = err.response.data.errors ? err.response.data.errors : \"\";\n        dispatch({\n          type: ERRORS,\n          payload: obj[Object.keys(obj)[0]]\n        });\n      });\n    } catch (error) {}\n  }; //**delete category from db */\n\n\n  const deleteCategory = async id => {\n    try {\n      await axios.delete(`${process.env.REACT_APP_API_URL}/category/${id}`, config).then(res => {\n        dispatch({\n          type: DELETE_CATEGORY,\n          payload: res.data\n        });\n      }).catch(err => {\n        var obj = err.response.data.errors ? err.response.data.errors : \"\";\n        dispatch({\n          type: ERRORS,\n          payload: obj[Object.keys(obj)[0]]\n        });\n      });\n    } catch (error) {}\n  }; // get products\n\n\n  const getProducts = async () => {\n    try {\n      const res = await axios.get(`${process.env.REACT_APP_API_URL}/products`, config);\n      dispatch({\n        type: GET_PRODUCTS,\n        payload: res.data\n      });\n    } catch (error) {}\n  }; // get categories\n\n\n  const getCategories = async () => {\n    try {\n      await axios.get(`${process.env.REACT_APP_API_URL}/categories`, config).then(res => {\n        dispatch({\n          type: GET_CATEGORIES,\n          payload: res.data\n        });\n      }).error(err => {\n        console.log(err);\n      });\n    } catch (error) {}\n  }; //**get specific products products */\n  //get products based on categories\n\n\n  const getCategoryProducts = async category => {\n    await axios.get(`${process.env.REACT_APP_API_URL}/products/category/${category}`).then(res => {\n      dispatch({\n        type: GET_CATEGORY_PRODUCTS,\n        payload: res.data[0].products\n      });\n    }).catch(err => {\n      dispatch({\n        type: ERRORS,\n        payload: \"No product for this category\"\n      });\n    });\n  };\n  /* //get Jewelery\n  const getHomePageCategoryProducts = async (category) => {\n    try {\n      const res = await axios.get(\n        `${process.env.REACT_APP_API_URL}/products/homepage/{catName}`\n      );\n      dispatch({\n        type: GET_SHOES,\n        payload: res.data,\n      });\n    } catch (error) {}\n  }; */\n  //get Jewelery\n\n\n  const getShoes = async () => {\n    try {\n      const res = await axios.get(`${process.env.REACT_APP_API_URL}/category/products/1`);\n      dispatch({\n        type: GET_SHOES,\n        payload: res.data\n      });\n    } catch (error) {}\n  }; //get Womens' Clothing\n\n\n  const getClothings = async () => {\n    try {\n      const res = await axios.get(\"https://fakestoreapi.com/products/category/women's clothing\");\n      dispatch({\n        type: GET_CLOTHINGS,\n        payload: res.data\n      });\n    } catch (error) {}\n  }; //get Electronics\n\n\n  const getElectronics = async () => {\n    try {\n      const res = await axios.get(\"https://fakestoreapi.com/products/category/electronics?limit=6\");\n      dispatch({\n        type: GET_ELECTRONICS,\n        payload: res.data\n      });\n    } catch (error) {}\n  }; //get related products\n\n\n  const getRelatedProducts = async productId => {\n    try {\n      const res = await axios.get(`${process.env.REACT_APP_API_URL}/related/products/${productId}?limit=6`, config);\n      dispatch({\n        type: GET_RELATED_PRODUCTS,\n        payload: res.data\n      });\n    } catch (error) {}\n  }; //**get a product */\n\n\n  const getProduct = async id => {\n    try {\n      const res = await axios.get(`${process.env.REACT_APP_API_URL}/product/${id}`);\n      dispatch({\n        type: GET_PRODUCT,\n        payload: res.data\n      });\n    } catch (error) {}\n  }; //**get a category */\n\n\n  const getCategory = async id => {\n    try {\n      const res = await axios.get(`${process.env.REACT_APP_API_URL}/category/${id}`);\n      dispatch({\n        type: GET_CATEGORY,\n        payload: res.data\n      });\n    } catch (error) {}\n  }; // search product\n\n\n  const searchProducts = async text => {\n    await axios.get(`${process.env.REACT_APP_API_URL}/search?text=${text}`).then(res => {\n      dispatch({\n        type: SEARCH_PRODUCTS,\n        payload: res.data\n      });\n    }).catch(err => {\n      dispatch({\n        type: ERRORS,\n        payload: \"Your search returns 0 results\"\n      });\n    });\n  }; // set product to null\n\n\n  const setProductToNull = () => {\n    dispatch({\n      type: GET_PRODUCT,\n      payload: null\n    });\n  }; // set category to null\n\n\n  const setCategoryToNull = () => {\n    dispatch({\n      type: GET_CATEGORY,\n      payload: null\n    });\n  }; // set searched item container to null\n\n\n  const setSearchchedItemToNull = () => {\n    dispatch({\n      type: SEARCH_PRODUCTS,\n      payload: null\n    });\n  }; //Clear messages if any\n\n\n  const clearMessages = () => {\n    dispatch({\n      type: CLEAR_MESSAGES\n    });\n  }; //Clear messages if any\n\n\n  const clearErrors = () => {\n    dispatch({\n      type: CLEAR_ERRORS\n    });\n  }; //Set state loading\n\n\n  const setLoading = loadingValue => {\n    dispatch({\n      type: SET_lOADING,\n      payload: loadingValue\n    });\n  }; //Set state of form when clicked\n\n\n  const setFormLoading = loadingValue => {\n    dispatch({\n      type: SET_FORM_lOADING,\n      payload: loadingValue\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(ProductsContext.Provider, {\n    value: {\n      products: state.products,\n      shoes: state.shoes,\n      clothings: state.clothings,\n      electronics: state.electronics,\n      relatedProducts: state.relatedProducts,\n      product: state.product,\n      category: state.category,\n      searchedItems: state.searchedItems,\n      loading: state.loading,\n      formloading: state.formloading,\n      error: state.error,\n      success: state.success,\n      categories: state.categories,\n      errors: state.errors,\n      addProduct,\n      updateProduct,\n      deleteProduct,\n      addCategory,\n      updateCategory,\n      deleteCategory,\n      getProducts,\n      getCategories,\n      getShoes,\n      getClothings,\n      getElectronics,\n      getProduct,\n      getCategory,\n      searchProducts,\n      getCategoryProducts,\n      getRelatedProducts,\n      setProductToNull,\n      setCategoryToNull,\n      setSearchchedItemToNull,\n      clearMessages,\n      clearErrors,\n      setFormLoading,\n      setLoading\n    },\n    children: props.children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 400,\n    columnNumber: 5\n  }, this);\n};\n\n_s(ProductsState, \"6JWkGZ32UPfojeNx+xqn8ZU8A0Q=\");\n\n_c = ProductsState;\nexport default ProductsState;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProductsState\");","map":{"version":3,"sources":["/home/generous/projects/t-store/src/components/context/products/ProductsState.js"],"names":["useReducer","axios","ProductsReducer","ProductsContext","ADD_PRODUCT","UPDATE_PRODUCT","DELETE_PRODUCT","GET_PRODUCTS","GET_PRODUCT","GET_CATEGORY","ADD_CATEGORY","UPDATE_CATEGORY","DELETE_CATEGORY","GET_CATEGORIES","GET_ELECTRONICS","GET_SHOES","GET_CLOTHINGS","SEARCH_PRODUCTS","GET_CATEGORY_PRODUCTS","GET_RELATED_PRODUCTS","ERRORS","CLEAR_MESSAGES","CLEAR_ERRORS","SET_lOADING","SET_FORM_lOADING","ProductsState","props","initialState","products","product","categoryProducts","categories","category","shoes","clothings","electronics","relatedProducts","searchedItems","loading","formloading","errors","success","state","dispatch","config","headers","Authorization","localStorage","getItem","addProduct","data","post","process","env","REACT_APP_API_URL","then","res","type","payload","catch","err","obj","response","error","addCategory","updateProduct","id","updateCategory","Object","keys","deleteProduct","delete","deleteCategory","getProducts","get","getCategories","console","log","getCategoryProducts","getShoes","getClothings","getElectronics","getRelatedProducts","productId","getProduct","getCategory","searchProducts","text","setProductToNull","setCategoryToNull","setSearchchedItemToNull","clearMessages","clearErrors","setLoading","loadingValue","setFormLoading","children"],"mappings":"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","sourcesContent":["import { useReducer } from \"react\";\nimport axios from \"axios\";\nimport ProductsReducer from \"./ProductsReducer\";\nimport ProductsContext from \"./ProductsContext\";\n\nimport {\n  ADD_PRODUCT,\n  UPDATE_PRODUCT,\n  DELETE_PRODUCT,\n  GET_PRODUCTS,\n  GET_PRODUCT,\n  GET_CATEGORY,\n  ADD_CATEGORY,\n  UPDATE_CATEGORY,\n  DELETE_CATEGORY,\n  GET_CATEGORIES,\n  GET_ELECTRONICS,\n  GET_SHOES,\n  GET_CLOTHINGS,\n  SEARCH_PRODUCTS,\n  GET_CATEGORY_PRODUCTS,\n  GET_RELATED_PRODUCTS,\n  ERRORS,\n  CLEAR_MESSAGES,\n  CLEAR_ERRORS,\n  SET_lOADING,\n  SET_FORM_lOADING,\n} from \"../types\";\n\nconst ProductsState = (props) => {\n  const initialState = {\n    products: null,\n    product: null,\n    categoryProducts: null,\n    categories: null,\n    category:null,\n    shoes: null,\n    clothings: null,\n    electronics: null,\n    relatedProducts: null,\n    searchedItems: null,\n    loading: true,\n    formloading: false,\n    errors: null,\n    success: null,\n  };\n\n  //initialise the state\n  const [state, dispatch] = useReducer(ProductsReducer, initialState);\n\n  //configuration\n  const config = {\n    headers: {\n      \"Content-Type\": \"application/json\",\n      Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n      \"Access-Control-Allow-Origin\":\"*\"\n    },\n  };\n\n  //set the actions\n  //**add product to db */\n  const addProduct = async (data) => {\n    \n    try {\n      await axios\n        .post(`${process.env.REACT_APP_API_URL}/product`, data, config)\n        .then((res) => {\n          dispatch({\n            type: ADD_PRODUCT,\n            payload: res.data,\n          });\n        })\n        .catch((err) => {\n          var obj = err.response.data.errors ? err.response.data.errors : \"\";\n          dispatch({\n            type: ERRORS,\n            /* payload: obj[Object.keys(obj)[0]], */\n            payload: obj,\n          });\n        });\n    } catch (error) {}\n  };\n\n  // add category\n  const addCategory = async (data) => {\n    try {\n      await axios\n        .post(`${process.env.REACT_APP_API_URL}/category`, data, config)\n        .then((res) => {\n          dispatch({\n            type: ADD_CATEGORY,\n            payload: res.data,\n          });\n        })\n        .catch((err) => {\n          var obj = err.response.data.errors ? err.response.data.errors : \"\";\n          dispatch({\n            type: ERRORS,\n            /* payload: obj[Object.keys(obj)[0]], */\n            payload: obj,\n          });\n        });\n    } catch (error) {}\n  };\n\n  //**update product to db */\n  const updateProduct = async (id, data) => {\n    try {\n      await axios\n        .post(`${process.env.REACT_APP_API_URL}/product/${id}`, data, config)\n        .then((res) => {\n          dispatch({\n            type: UPDATE_PRODUCT,\n            payload: res.data,\n          });\n        })\n        .catch((err) => {\n          var obj = err.response.data.errors ? err.response.data.errors : \"\";\n          dispatch({\n            type: ERRORS,\n            payload: obj,\n          });\n        });\n    } catch (error) {}\n  };\n\n  //**update category to db */\n  const updateCategory = async (id, data) => {\n    try {\n      await axios\n        .post(`${process.env.REACT_APP_API_URL}/category/${id}`, data, config)\n        .then((res) => {\n          dispatch({\n            type: UPDATE_CATEGORY,\n            payload: res.data,\n          });\n        })\n        .catch((err) => {\n          var obj = err.response.data.errors ? err.response.data.errors : \"\";\n          dispatch({\n            type: ERRORS,\n            payload: obj[Object.keys(obj)[0]],\n          });\n        });\n    } catch (error) {}\n  };\n\n  //**delete product from db */\n  const deleteProduct = async (id) => {\n    try {\n      await axios\n        .delete(`${process.env.REACT_APP_API_URL}/product/${id}`, config)\n        .then((res) => {\n          dispatch({\n            type: DELETE_PRODUCT,\n          });\n        })\n        .catch((err) => {\n          var obj = err.response.data.errors ? err.response.data.errors : \"\";\n          dispatch({\n            type: ERRORS,\n            payload: obj[Object.keys(obj)[0]],\n          });\n        });\n    } catch (error) {}\n  };\n\n\n  //**delete category from db */\n  const deleteCategory = async (id) => {\n    try {\n      await axios\n        .delete(`${process.env.REACT_APP_API_URL}/category/${id}`, config)\n        .then((res) => {\n          dispatch({\n            type: DELETE_CATEGORY,\n            payload: res.data\n          });\n        })\n        .catch((err) => {\n          var obj = err.response.data.errors ? err.response.data.errors : \"\";\n          dispatch({\n            type: ERRORS,\n            payload: obj[Object.keys(obj)[0]],\n          });\n        });\n    } catch (error) {}\n  };\n\n  // get products\n  const getProducts = async () => {\n    try {\n      const res = await axios.get(`${process.env.REACT_APP_API_URL}/products`, config);\n      dispatch({\n        type: GET_PRODUCTS,\n        payload: res.data,\n      });\n    } catch (error) {}\n  };\n\n  // get categories\n  const getCategories = async () => {\n    try {\n      await axios\n        .get(`${process.env.REACT_APP_API_URL}/categories`, config)\n        .then((res) => {\n          dispatch({\n            type: GET_CATEGORIES,\n            payload: res.data,\n          });\n        })\n        .error((err) => {\n          console.log(err);\n        });\n    } catch (error) {}\n  };\n\n  //**get specific products products */\n  //get products based on categories\n  const getCategoryProducts = async (category) => {\n    await axios.get(\n        `${process.env.REACT_APP_API_URL}/products/category/${category}`\n      ).then(res =>{\n        dispatch({\n        type: GET_CATEGORY_PRODUCTS,\n        payload: res.data[0].products,\n      })\n      }).catch(err =>{\n        dispatch({\n          type: ERRORS,\n          payload: \"No product for this category\",\n        });\n      })\n  };\n  /* //get Jewelery\n  const getHomePageCategoryProducts = async (category) => {\n    try {\n      const res = await axios.get(\n        `${process.env.REACT_APP_API_URL}/products/homepage/{catName}`\n      );\n      dispatch({\n        type: GET_SHOES,\n        payload: res.data,\n      });\n    } catch (error) {}\n  }; */\n\n  //get Jewelery\n  const getShoes = async () => {\n    try {\n      const res = await axios.get(\n        `${process.env.REACT_APP_API_URL}/category/products/1`\n      );\n      dispatch({\n        type: GET_SHOES,\n        payload: res.data,\n      });\n    } catch (error) {}\n  };\n\n  //get Womens' Clothing\n  const getClothings = async () => {\n    try {\n      const res = await axios.get(\n        \"https://fakestoreapi.com/products/category/women's clothing\"\n      );\n      dispatch({\n        type: GET_CLOTHINGS,\n        payload: res.data,\n      });\n    } catch (error) {}\n  };\n\n  //get Electronics\n  const getElectronics = async () => {\n    try {\n      const res = await axios.get(\n        \"https://fakestoreapi.com/products/category/electronics?limit=6\"\n      );\n      dispatch({\n        type: GET_ELECTRONICS,\n        payload: res.data,\n      });\n    } catch (error) {}\n  };\n\n  //get related products\n  const getRelatedProducts = async (productId) => {\n    try {\n      const res = await axios.get(\n        `${process.env.REACT_APP_API_URL}/related/products/${productId}?limit=6`,\n        config\n      );\n\n      dispatch({\n        type: GET_RELATED_PRODUCTS,\n        payload: res.data,\n      });\n    } catch (error) {}\n  };\n\n  //**get a product */\n  const getProduct = async (id) => {\n    try {\n      const res = await axios.get(`${process.env.REACT_APP_API_URL}/product/${id}`);\n      dispatch({\n        type: GET_PRODUCT,\n        payload: res.data,\n      });\n    } catch (error) {}\n  };\n\n\n  //**get a category */\n  const getCategory = async (id) => {\n    try {\n      const res = await axios.get(`${process.env.REACT_APP_API_URL}/category/${id}`);\n      dispatch({\n        type: GET_CATEGORY,\n        payload: res.data,\n      });\n    } catch (error) {}\n  };\n\n  // search product\n  const searchProducts = async (text) => {\n    await axios.get(`${process.env.REACT_APP_API_URL}/search?text=${text}`)\n    .then(res =>{\n      dispatch({\n        type: SEARCH_PRODUCTS,\n        payload: res.data,\n      });\n    }).catch(err =>{\n      dispatch({\n        type: ERRORS,\n        payload: \"Your search returns 0 results\",\n      });\n    })\n    \n  };\n\n  // set product to null\n  const setProductToNull = () => {\n    dispatch({\n      type: GET_PRODUCT,\n      payload: null,\n    });\n  };\n\n  // set category to null\n  const setCategoryToNull = () => {\n    dispatch({\n      type: GET_CATEGORY,\n      payload: null,\n    });\n  };\n\n  // set searched item container to null\n  const setSearchchedItemToNull = () => {\n    dispatch({\n      type: SEARCH_PRODUCTS,\n      payload: null,\n    });\n  };\n\n  //Clear messages if any\n  const clearMessages = () => {\n    dispatch({\n      type: CLEAR_MESSAGES,\n    });\n  };\n\n  //Clear messages if any\n  const clearErrors = () => {\n    dispatch({\n      type: CLEAR_ERRORS,\n    });\n  };\n\n  //Set state loading\n  const setLoading = (loadingValue) => {\n    dispatch({\n      type: SET_lOADING,\n      payload:loadingValue\n    });\n  };\n\n  //Set state of form when clicked\n  const setFormLoading = (loadingValue) => {\n    dispatch({\n      type: SET_FORM_lOADING,\n      payload:loadingValue\n    });\n  };\n\n\n\n  \n  return (\n    <ProductsContext.Provider\n      value={{\n        products: state.products,\n        shoes: state.shoes,\n        clothings: state.clothings,\n        electronics: state.electronics,\n        relatedProducts: state.relatedProducts,\n        product: state.product,\n        category: state.category,\n        searchedItems: state.searchedItems,\n        loading: state.loading,\n        formloading: state.formloading,\n        error: state.error,\n        success: state.success,\n        categories: state.categories,\n        errors: state.errors,\n        addProduct,\n        updateProduct,\n        deleteProduct,\n        addCategory,\n        updateCategory,\n        deleteCategory,\n        getProducts,\n        getCategories,\n        getShoes,\n        getClothings,\n        getElectronics,\n        getProduct,\n        getCategory,\n        searchProducts,\n        getCategoryProducts,\n        getRelatedProducts,\n        setProductToNull,\n        setCategoryToNull,\n        setSearchchedItemToNull,\n        clearMessages,\n        clearErrors,\n        setFormLoading,\n        setLoading,\n      }}\n    >\n      {props.children}\n    </ProductsContext.Provider>\n  );\n};\n\nexport default ProductsState;\n"]},"metadata":{},"sourceType":"module"}