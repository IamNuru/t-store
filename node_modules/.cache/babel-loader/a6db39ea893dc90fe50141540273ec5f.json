{"ast":null,"code":"var _jsxFileName = \"/home/generous/projects/t-store/src/components/dashboard/products/AddProduct.js\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useState, useEffect } from \"react\";\nimport ProductsContext from \"../../context/products/ProductsContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst AddProduct = () => {\n  _s();\n\n  const {\n    errors,\n    addProduct,\n    categories,\n    success,\n    getCategories\n  } = useContext(ProductsContext); //set error into state\n\n  const [error, setError] = useState(errors); //set data state\n\n  const [data, setData] = useState({\n    title: \"\",\n    price: \"\",\n    deductions: \"\",\n    description: \"\",\n    qty: \"\",\n    category: \"\",\n    image_name: \"\"\n  }); //destructure data state\n\n  const {\n    title,\n    price,\n    deductions,\n    description,\n    qty,\n    category,\n    image_name\n  } = data; //component\n\n  useEffect(() => {\n    getCategories(); // eslint-disable-next-line\n  }, []); //on input change\n\n  const onChange = e => {\n    setData({ ...data,\n      [e.target.name]: e.target.value\n    });\n  }; // on submit\n\n\n  const onSubmit = e => {\n    e.preventDefault();\n    console.log(e.target.files);\n    let formData = new FormData();\n    formData.append('title', title);\n    formData.append('price', price);\n    formData.append('qty', qty);\n    formData.append('deductions', deductions);\n    formData.append('image_name', e.target.files);\n    formData.append('category', category);\n    formData.append('description', description);\n    addProduct(formData);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: onSubmit,\n    encType: \"multipart/form-data\",\n    className: \"block  md:px-4 px-8 md:ml-48 pb:8\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-full grid grid-cols-1 grid md:grid-cols-2 lg:grid-cols-3 gap-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"block\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"Title\",\n          className: \"text-md text-gray-800 py-1\",\n          children: \"Title\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"title\",\n          onChange: onChange,\n          value: title,\n          required: true,\n          className: `${(errors === null || errors === void 0 ? void 0 : errors.title) && \"border-red-600 \"} border border-gray-400 w-full py-1 px-1 outline-none focus:border-purple-300`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }, this), (errors === null || errors === void 0 ? void 0 : errors.title) && /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"text-sm italic text-red-600 py-1\",\n          children: errors.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"block\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"text-md text-gray-800 py-1\",\n          children: \"Price\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"price\",\n          onChange: onChange,\n          value: price,\n          required: true,\n          className: `${(errors === null || errors === void 0 ? void 0 : errors.price) && \"border-red-600 \"} border border-gray-400 w-full py-1 px-1 outline-none focus:border-purple-300`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this), (errors === null || errors === void 0 ? void 0 : errors.price) && /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"text-sm italic text-red-600 py-1\",\n          children: errors.price\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"block\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"text-md text-gray-800\",\n          children: \"Deductions\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"deductions\",\n          onChange: onChange,\n          value: deductions,\n          required: true,\n          className: `${(errors === null || errors === void 0 ? void 0 : errors.deductions) && \"border-red-600 \"} border border-gray-400 w-full py-1 px-1 outline-none focus:border-purple-300`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 11\n        }, this), (errors === null || errors === void 0 ? void 0 : errors.deductions) && /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"text-sm italic text-red-600 py-1\",\n          children: errors.deductions\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"block\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"text-md text-gray-800\",\n          children: \"Description\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          type: \"text\",\n          name: \"description\",\n          onChange: onChange,\n          value: description,\n          required: true,\n          className: `${(errors === null || errors === void 0 ? void 0 : errors.description) && \"border-red-600 \"} border border-gray-400 w-full py-1 px-1 outline-none focus:border-purple-300`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 11\n        }, this), (errors === null || errors === void 0 ? void 0 : errors.description) && /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"text-sm italic text-red-600 py-1\",\n          children: errors.description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"block\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"text-md text-gray-800\",\n          children: \"Qty\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          name: \"qty\",\n          onChange: onChange,\n          value: qty,\n          required: true,\n          className: `${(errors === null || errors === void 0 ? void 0 : errors.qty) && \"border-red-600 \"} border border-gray-400 w-full py-1 px-1 outline-none focus:border-purple-300`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 11\n        }, this), (errors === null || errors === void 0 ? void 0 : errors.qty) && /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"text-sm italic text-red-600 py-1\",\n          children: errors.qty\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"block\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"text-md text-gray-800\",\n          children: \"Select Category\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          name: \"category\",\n          className: \"border border-gray-400 w-full py-1 px-1 outline-none focus:border-purple-300\",\n          children: (categories === null || categories === void 0 ? void 0 : categories.length) > 0 ? categories.map((category, idx) => {\n            return /*#__PURE__*/_jsxDEV(\"option\", {\n              value: category.id,\n              index: idx,\n              children: category.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 156,\n              columnNumber: 19\n            }, this);\n          }) : /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"None\",\n            children: \"No category\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"block\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"text-md text-gray-800\",\n          children: \"Choose Image\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          name: \"image_name\",\n          onChange: onChange,\n          value: image_name,\n          required: true,\n          className: `${(errors === null || errors === void 0 ? void 0 : errors.title) && \"border-red-600 \"} border border-gray-400 w-full py-1 px-1 outline-none focus:border-purple-300`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 11\n        }, this), (errors === null || errors === void 0 ? void 0 : errors.image_name) && /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"text-sm italic text-red-600 py-1\",\n          children: errors.image_name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this), success && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"py-4 text-blue-800 text-md italic text-center\",\n      children: success.message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"btn text-right\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"mb-8 py-1 mt-2 px-4 border-1 bg-purple-600 text-white font-semibold text-xl text-center outline-none capitalize\",\n        children: \"save product\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 5\n  }, this);\n};\n\n_s(AddProduct, \"Bj0o9aF79jQZsdDKunXcoBfDgkY=\");\n\n_c = AddProduct;\nexport default AddProduct;\n\nvar _c;\n\n$RefreshReg$(_c, \"AddProduct\");","map":{"version":3,"sources":["/home/generous/projects/t-store/src/components/dashboard/products/AddProduct.js"],"names":["React","useContext","useState","useEffect","ProductsContext","AddProduct","errors","addProduct","categories","success","getCategories","error","setError","data","setData","title","price","deductions","description","qty","category","image_name","onChange","e","target","name","value","onSubmit","preventDefault","console","log","files","formData","FormData","append","length","map","idx","id","message"],"mappings":"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","sourcesContent":["import React, { useContext, useState, useEffect } from \"react\";\nimport ProductsContext from \"../../context/products/ProductsContext\";\n\nconst AddProduct = () => {\n  const { errors, addProduct, categories, success, getCategories } =\n    useContext(ProductsContext);\n\n  //set error into state\n  const [error, setError] = useState(errors);\n\n  //set data state\n  const [data, setData] = useState({\n    title: \"\",\n    price: \"\",\n    deductions: \"\",\n    description: \"\",\n    qty: \"\",\n    category: \"\",\n    image_name: \"\",\n  });\n\n  //destructure data state\n  const { title, price, deductions, description, qty, category, image_name } =\n    data;\n\n  //component\n  useEffect(() => {\n    getCategories();\n    // eslint-disable-next-line\n  }, []);\n\n  //on input change\n  const onChange = (e) => {\n    setData({ ...data, [e.target.name]: e.target.value });\n  };\n\n  // on submit\n  const onSubmit = (e) => {\n    e.preventDefault();\n    console.log(e.target.files)\n    let formData = new FormData();\n    formData.append('title', title);\n    formData.append('price', price);\n    formData.append('qty', qty);\n    formData.append('deductions', deductions);\n    formData.append('image_name', e.target.files);\n    formData.append('category', category);\n    formData.append('description', description);\n    addProduct(formData);\n  };\n\n  return (\n    <form onSubmit={onSubmit} encType=\"multipart/form-data\" className=\"block  md:px-4 px-8 md:ml-48 pb:8\">\n      <div className=\"w-full grid grid-cols-1 grid md:grid-cols-2 lg:grid-cols-3 gap-4\">\n        <div className=\"block\">\n          <label htmlFor=\"Title\" className=\"text-md text-gray-800 py-1\">\n            Title\n          </label>\n          <input\n            type=\"text\"\n            name=\"title\"\n            onChange={onChange}\n            value={title}\n            required\n            className={`${\n              errors?.title && \"border-red-600 \"\n            } border border-gray-400 w-full py-1 px-1 outline-none focus:border-purple-300`}\n          />\n          {errors?.title && (\n            <label className=\"text-sm italic text-red-600 py-1\">\n              {errors.title}\n            </label>\n          )}\n        </div>\n        <div className=\"block\">\n          <label className=\"text-md text-gray-800 py-1\">Price</label>\n          <input\n            type=\"text\"\n            name=\"price\"\n            onChange={onChange}\n            value={price}\n            required\n            className={`${\n              errors?.price && \"border-red-600 \"\n            } border border-gray-400 w-full py-1 px-1 outline-none focus:border-purple-300`}\n          />\n          {errors?.price && (\n            <label className=\"text-sm italic text-red-600 py-1\">\n              {errors.price}\n            </label>\n          )}\n        </div>\n        <div className=\"block\">\n          <label className=\"text-md text-gray-800\">Deductions</label>\n          <input\n            type=\"text\"\n            name=\"deductions\"\n            onChange={onChange}\n            value={deductions}\n            required\n            className={`${\n              errors?.deductions && \"border-red-600 \"\n            } border border-gray-400 w-full py-1 px-1 outline-none focus:border-purple-300`}\n          />\n          {errors?.deductions && (\n            <label className=\"text-sm italic text-red-600 py-1\">\n              {errors.deductions}\n            </label>\n          )}\n        </div>\n        <div className=\"block\">\n          <label className=\"text-md text-gray-800\">Description</label>\n          <textarea\n            type=\"text\"\n            name=\"description\"\n            onChange={onChange}\n            value={description}\n            required\n            className={`${\n              errors?.description && \"border-red-600 \"\n            } border border-gray-400 w-full py-1 px-1 outline-none focus:border-purple-300`}\n          ></textarea>\n          {errors?.description && (\n            <label className=\"text-sm italic text-red-600 py-1\">\n              {errors.description}\n            </label>\n          )}\n        </div>\n        <div className=\"block\">\n          <label className=\"text-md text-gray-800\">Qty</label>\n          <input\n            type=\"number\"\n            name=\"qty\"\n            onChange={onChange}\n            value={qty}\n            required\n            className={`${\n              errors?.qty && \"border-red-600 \"\n            } border border-gray-400 w-full py-1 px-1 outline-none focus:border-purple-300`}\n          />\n          {errors?.qty && (\n            <label className=\"text-sm italic text-red-600 py-1\">\n              {errors.qty}\n            </label>\n          )}\n        </div>\n        <div className=\"block\">\n          <label className=\"text-md text-gray-800\">Select Category</label>\n          <select\n            name=\"category\"\n            className=\"border border-gray-400 w-full py-1 px-1 outline-none focus:border-purple-300\"\n          >\n            {categories?.length > 0 ? (\n              categories.map((category, idx) => {\n                return (\n                  <option value={category.id} index={idx}>\n                    {category.name}\n                  </option>\n                );\n              })\n            ) : (\n              <option value=\"None\">No category</option>\n            )}\n          </select>\n        </div>\n        <div className=\"block\">\n          <label className=\"text-md text-gray-800\">Choose Image</label>\n          <input\n            type=\"file\"\n            name=\"image_name\"\n            onChange={onChange}\n            value={image_name}\n            required\n            className={`${\n              errors?.title && \"border-red-600 \"\n            } border border-gray-400 w-full py-1 px-1 outline-none focus:border-purple-300`}\n          />\n          {errors?.image_name && (\n            <label className=\"text-sm italic text-red-600 py-1\">\n              {errors.image_name}\n            </label>\n          )}\n        </div>\n      </div>\n      {success && (\n        <div className=\"py-4 text-blue-800 text-md italic text-center\">\n          {success.message}\n        </div>\n      )}\n      <div className=\"btn text-right\">\n        <button\n          type=\"submit\"\n          className=\"mb-8 py-1 mt-2 px-4 border-1 bg-purple-600\n           text-white font-semibold text-xl text-center outline-none capitalize\"\n        >\n          save product\n        </button>\n      </div>\n    </form>\n  );\n};\n\nexport default AddProduct;\n"]},"metadata":{},"sourceType":"module"}